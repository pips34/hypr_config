# Override looknfeel.conf
general {
    gaps_in = 3
    gaps_out = 8
}

# Override inputs.conf
input {
  kb_layout = latam
  kb_options = caps:lock # ,grp:shifts_toggle
}

# Rounded window corners
decoration {
    rounding = 8
}

# Override color for active window border with white
$activeBorderColor = rgba(969e55ff) rgba(969e55ff) 45deg

general {
    col.active_border = $activeBorderColor
}

group {
    col.border_active = $activeBorderColor
}

# Remove some default bindings I don't like
unbind = SUPER, K
unbind = SUPER, J

# Re map default bindings
bindd = SUPER CTRL, K, Show key bindings, exec, omarchy-menu-keybindings
bindd = SUPER CTRL, J, Toggle window split, togglesplit, # dwindle

# Unbinding unwanted apps
unbind = SUPER SHIFT, O  # Obsidian
unbind = SUPER SHIFT, C  # hey.com
unbind = SUPER SHIFT, E  # hey.com
unbind = SUPER SHIFT, Y  # YT
unbind = SUPER SHIFT, P  # Google photos
unbind = SUPER SHIFT, X  # Twitter
unbind = SUPER SHIFT ALT, X  # Twitter

# SUPER + CTRL + ALT + L for locking my system
bind = META CTRL ALT, L, exec, hyprlock

# Navigate using VIM keys
bindd = SUPER, H, Move window focus left, movefocus, l
bindd = SUPER, L, Move window focus right, movefocus, r
bindd = SUPER, K, Move window focus up, movefocus, u
bindd = SUPER, J, Move window focus down, movefocus, d

# Swap active window with the VIM keys too
bindd = SUPER SHIFT, H, Swap window to the left, swapwindow, l
bindd = SUPER SHIFT, L, Swap window to the right, swapwindow, r
bindd = SUPER SHIFT, K, Swap window up, swapwindow, u
bindd = SUPER SHIFT, J, Swap window down, swapwindow, d

# Add up to workspace 10
bindd = SUPER, code:19, Switch to workspace 10, workspace, 10
bindd = SUPER SHIFT, code:19, Move window to workspace 10, movetoworkspace, 10

# Changing the default file manager to Yazi
unbind = SUPER SHIFT, F  # Previously Nautilus
bindd = SUPER SHIFT, F, File manager, exec, alacritty -e yazi

# GIT web apps
bindd = SUPER SHIFT, R, GitHub, exec, omarchy-launch-webapp "https://github.com"
bindd = SUPER CTRL SHIFT, R, GitLab, exec, omarchy-launch-webapp "https://gitlab.com"

# Re-binding messenger apps
unbind = SUPER SHIFT, G  # Previously Signal
unbind = SUPER CTRL SHIFT, G  # Previously Google Messages
unbind = SUPER ALT SHIFT, G  # Previously WhatsApp
unbind = SUPER SHIFT, W  # Previously Typora
unbind = SUPER SHIFT, T  # Previously btop

bindd = SUPER SHIFT, Q, Activity, exec, omarchy-launch-tui btop

# bindd = SUPER SHIFT, G, Google Messages, exec, omarchy-launch-or-focus-webapp "Google Messages" "https://messages.google.com/web/conversations"
bindd = SUPER SHIFT, W, WhatsApp, exec, omarchy-launch-or-focus-webapp WhatsApp "https://web.whatsapp.com/"
bindd = SUPER SHIFT, S, Signal, exec, omarchy-launch-or-focus ^signal$ "uwsm-app -- signal-desktop"
bindd = SUPER SHIFT, T, Telegram, exec, omarchy-launch-or-focus ^telegram$ "uwsm-app -- Telegram"

bindd = SUPER SHIFT, G, Files, exec, nautilus

# Browser private window
unbind = SUPER SHIFT ALT, B  # Previously omarchy-launch-browser --private
bindd = SUPER CTRL SHIFT, B, Browser (private), exec, omarchy-launch-browser --private

# Librewolf for an alt browser
bindd = SUPER ALT, B, Alternative browser, exec, librewolf

# Undoing the annoying float windowrule for Steam
windowrule {
  name = windowrule-1
  tile = on
  match:class = steam
}

windowrule = tile on, match:class steam

# Center window
bindd = SUPER, C, Center Window, exec, hyprctl dispatch togglefloating && hyprctl dispatch resizeactive exact 800 600 && hyprctl dispatch centerwindow

# Extra keybinds for swayosd
bindd = SUPER ALT, K, Start/Stop media, exec, swayosd-client --playerctl play-pause
bindd = SUPER ALT, L, Next media, exec, swayosd-client --playerctl next
bindd = SUPER ALT, J, Previous media, exec, swayosd-client --playerctl previous

# SUPER + E to pull up a terminal with NeoVim and use it to edit any text from
# any text box (pretty goated, thanks Reddit + ChatGPT)
bindd = SUPER, E, Edit with NeoVim, exec, sleep 0.2 && wtype -M ctrl -k a -m ctrl && sleep 0.05 && alacritty -e bash -c "wl-paste --primary | nvim -n - +'setlocal binary' +'setlocal noendofline' +'w! /tmp/nvimedit_temp_buf'" && wl-copy < /tmp/nvimedit_temp_buf && rm /tmp/nvimedit_temp_buf && wtype -M ctrl -k v -m ctrl
